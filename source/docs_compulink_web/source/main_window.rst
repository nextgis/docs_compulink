.. sectionauthor:: Александр Мурый <amuriy@gmail.com>

.. _compulink_web_main_window:

Интерфейс NextGIS Web Compulink
==================================


Главное окно
--------------------

.. figure:: _static/compulink/main_window.png
   :name: main_window
   :align: center
   :width: 15.8cm

   Главное окно NextGIS Web Compulink

Интерфейс главного окна NextGIS Web Compulink разделен на несколько основных частей:

1. Дерево проектов и объектов
2. Окно карты (с таблицей объектов)
3. Слои ВОЛС
4. Легенда (условные обозначения)
5. Панель ресурсов, управления и отчетов




Дерево проектов и объектов
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. figure:: _static/compulink/main_window_toc.png
   :name: main_window_toc
   :align: center
   :width: 7cm

   Дерево проектов и объектов строительства

|
|

В нижней части дерева проектов и объектов располагается меню выбора картографических подложек, отображаемых в окне карты.

Перечень подключаемых картографических подложек:

* OpenStreetMap;
* Google – Спутник;
* Google – Схема;
* Google – Гибрид;
* Google –  Рельеф;
* Bing – Снимки;
* Bing – Гибрид;
* Bing – Схема;
* Пустой.

.. figure:: _static/compulink/basemaps.png
   :name: basemaps
   :align: center
   :width: 7cm

   Подключаемые картографические подложки

По умолчанию используется подложка OpenStreetMap.
   
|
|
|

Окно карты
~~~~~~~~~~~~~~~

Окно карты располагается по центру главного окна веб-приложения.
После запуска веб-приложения в окне отображается мелкомасштабная обзорная карта России и сопредельных государств (подложка OpenStreetMap). При укрупнении масштаба (приближении) детальность отображаемой подложки увеличивается.

При активизации в дереве проектов и объектов какого-либо объекта его данные появляются на карте в виде набора точек и линий, а атрибутивная информация появляется в таблице объектов в нижней части окна карты (:numref:`map_window_map1`).


.. figure:: _static/compulink/main_window_2.png
   :name: main_window_2
   :align: center
   :width: 15.8cm

   Выбор участка строительства и отображение его в окне карты
   



В левой верхней части окна карты находится панель инструментов общего назначения (на :numref:`map_window_top` показаны цифрами):

1. Показать всё
2. Перейти к координатам
3. 

.. figure:: _static/compulink/map_window_top.png
   :name: main_window_top
   :align: center
   :width: 12cm

   Инструменты окна карты




   

.. figure:: _static/compulink/map_window_coords_enter.png
   :name: map_window_coords_enter
   :align: center
   :width: 10cm

   Ввод координат "вручную"
   
.. figure:: _static/compulink/map_window_print.png
   :name: map_window_print
   :align: center
   :width: 15.8cm

   Печать карты


.. figure:: _static/compulink/map_window_measure1.png
   :name: map_window_measure1
   :align: center
   :width: 13cm

   Измерение длины линий в окне карты


.. figure:: _static/compulink/map_window_measure2.png
   :name: map_window_measure2
   :align: center
   :width: 13cm

   Измерение площади полигонов в окне карты


.. figure:: _static/compulink/map_window_info.png
   :name: map_window_info
   :align: center
   :width: 13cm

   Инструмент идентификации объектов в окне карты


.. figure:: _static/compulink/map_window_info_photo.png
   :name: map_window_info_photo
   :align: center
   :width: 13cm

   Прикрепленная фотография в атрибутах объекта 
   
|
|
|
   

.. _compulink_web_table:

Таблица объектов
~~~~~~~~~~~~~~~~~~~~

В нижней части окна карты находится таблица объектов. В ней отображаются свойства (атрибуты) объектов, выбранных в списке слоев. Атрибуты показывают оперативные данные и в табличной форме отражают текущее состояние строительства. В текущей версии веб-приложения доступны следующие атрибуты (:numref:`table_objects`):

* Наименование
* Субъект РФ
* Муниципальный район
* Статус
* Плановая протяженность (км)
* Проложено кабеля (км)
* % выполнения
* Начало СМР
* Окончание СМР
* Начало сдачи заказчику
* Окончание сдачи заказчику
* Субподрядчик

.. figure:: _static/compulink/table_objects.png
   :name: table_objects
   :align: center
   :width: 15.8cm

   Таблица объектов

При нажатии по таблице объектов правой кнопкой мыши открывается меню, содержащее несколько действий (:numref:`map_window_attr`):

* Экспорт в форматы KML, GeoJSON, CSV
* Изменить статус
* Открыть карточку
* Редактировать
* Проиграть ход строительства

   
.. figure:: _static/compulink/map_window_attr.png
   :name: map_window_attr
   :align: center
   :width: 15.8cm

   Меню таблицы объектов


   

   
|
|
|
|

Слои ВОЛС
~~~~~~~~~~~~~~~~~~~~

В правой верхней части главного окна веб-приложения находится переключатель слоев ВОЛС -- **"Слои ВОЛС"** (:numref:`map_window_map1`). Слои разбиты на 3 группы по своему происхождению и характеру данных:

* Проектные данные 
* Объекты размещения
* Фактические данные

Пользователь может активизировать как группу слоев целиком, так и отдельные слои в пределах групп.
  
При необходимости можно отключать отображение слоев ВОЛС (кнопка **"Скрыть/показать правую панель"** на панели инструментов), и также изменять размер окна.

.. figure:: _static/compulink/map_window_map1.png
   :name: map_window_map1
   :align: center
   :width: 15.8cm

    Слои ВОЛС на данном участке строительства



..
   .. figure:: _static/compulink/layers.png
	  :name: layers
	  :align: center
	  :width: 7cm

	  Слои ВОЛС в главном окне

|
|
|


Легенда
~~~~~~~~~~~~~~~

Легенда карты (условные обозначения) располагается в правой нижней части главного окна веб-приложения (:numref:`legend`). При необходимости можно отключать отображение легенды (кнопка **"Скрыть/показать легенду"** на панели инструментов), и также изменять размер её окна.

.. figure:: _static/compulink/legend.png
   :name: legend
   :align: center
   :width: 7cm

   Условные обозначения (легенда карты)


Панель ресурсов, управления и отчетов
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

В верхней правой части главного окна располагается панель ресурсов, управления и отчетов (:numref:`edit_window_del`):

.. figure:: _static/compulink/panel_1.png
   :name: panel_1
   :align: center
   :width: 12cm

Выбор любого из пунктов панели приводит к открытию новой вкладки браузера с соответствующим содержимым.   

